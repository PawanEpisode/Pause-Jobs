trackUserIntraction=function(a){var b={companyId:$("#companyId").val(),user:gnb_variables.recruiterUsername||gnb_variables.userId||"NOT_FOUND",parentFlow:"JobListing",module:"CV_RECO"};a=$.extend({},b,a),$.ajax({url:"../../restApi/logger/logAction",data:a,method:"POST"})},getThisJobData=function(a){window.resdexCvRecomendationUrl&&window.open(window.resdexCvRecomendationUrl+"?jobId="+a,"_blank")},createObjectForDD=function(a){var b,c=a,d={};for(b in c)d[b]=c[b].title;return d},initiateDD=function(){var a=createObjectForDD(lightbox_data),b={id:{sajeTitleSearch:[a]},maxHeight:300,onClickReq:function(a,b){trackUserIntraction({action:"GET_RECO_CLICK_SRCH"}),getThisJobData(b)},onDeselect:function(){}};new DD(b)};var widget=$(".sajeWidget"),widget_li=widget.find("li"),widget_ul=widget.find("ul"),click_button=$("#opnjobList"),lightbox_data=null,lightbox_div=$("#aspLB"),lightbox_html=null,baseUrl="../../restApi/job";getJobList=function(a){var b="";if($.isEmptyObject(a))return'<p class="noJob">No Jobs Found.</p>';for(var c in a){var d=a[c];b+='<a href="javascript:" class="job-row" data-jobId="'+c+'">  <div class="col col1">     <p class="title" title="'+d.title+'">'+d.title+'</p>     <span class="ctcLoc">'+(d.minExp?d.minExp+"-"+(99==d.maxExp?"30+":d.maxExp)+" yrs":"")+(d.minExp&&d.loc?" - ":"")+(d.loc?'<span  title="'+d.loc+'">'+d.loc+"</span>":"")+'</span>   </div>  <div class="col col2">'+d.postedOn+'</div>  <div class="col col3" title="'+d.postedBy+'">'+d.postedBy+'</div>  <div class="col col4"><button class="btn btn-primary mailBtn">View Recommendations</button></div></a>'}return'<div class="job-row head">  <div class="col col1">Posted Jobs</div>   <div class="col col2">Posted on</div>  <div class="col col3">Posted by</div><div class="col col4">   <div id="sajeTitleSearch" class="ddwn sajeDrop">        <div class="DDwrap getCounted flatInpCont">            <ul class="DDsearch">                <li class="frst">                    <span class="arw"></span>                    <div class="DDinputWrap">                        <input class="flatInp srchTxt" name="" type="text" id="" placeholder="Search on Posted Jobs">                    </div>                </li>            </ul>        </div>    </div><span class="srchIcon" id="icnSrch"></span></div></div><div class="jobListing nScroll">'+b+"</div>"},hitLightboxAjax=function(){var a=null,b={companyId:$("#companyId").val()};return $.ajax({url:baseUrl+"/getLiveJobsList",type:"POST",data:b,dataType:"json",async:!1,beforeSend:function(){},success:function(b){b.constructor===String&&(b=$.parseJSON(b)),"OK"==b.result&&(a=b.data)}}),a},bindClicks=function(){$("#opnjobList").click(function(a){lightbox_data||(lightbox_data=hitLightboxAjax(),lightbox_html=getJobList(lightbox_data))}),$("#aspLB").on("click",'.job-row:not(".head")',function(){var a=$(this).attr("data-jobId");trackUserIntraction({action:"GET_RECO_CLICK"}),getThisJobData(a)}).on("contextmenu",".job-row",function(){return!1}),$("#aspLB").on("click","#icnSrch",function(){$(this).hide(),$("#sajeTitleSearch").fadeIn(),$("#sajeTitleSearch").find(".flatInp").focus(),initiateDD()}),$("#aspLB").on("mouseover",'.job-row:not(".head")',function(){$(".job-row").removeClass("active")}),$("#trackCvRecoClick").on("click",function(){trackUserIntraction({action:"GET_RECO_CLICK_LISTING"})}),$(".trackSuggestedCVMJRClick").on("click",function(){trackUserIntraction({action:"MJR_RECO_CV_CLICK"})})},$(document).ready(function(){if($(".cvRecommen").length){bindClicks();var a={tip_209:'Choose a job to get suggestions on most relevant candidates.  <a href="http://www.naukri.com/tieups/tieups.php?othersrcp=28957" target="_blank">Learn More</a>'},b={order:["left","right"],list:a,"class":"toolVenue",dir:"right",tipWidth:5,tipHeight:5,wrapper:"body",open:{event:"mouseover"},close:{event:"mouseout"}};$("#cvRec").tooltip(b),$(".cvRbtn").lightBox({ltBox:$("#aspLB"),dimens:{width:"750px",height:"auto"},resetForm:!1,fixed:!0,open:{success:function(){trackUserIntraction({action:"WIDGET_OPEN"}),$("#aspLB").find(".ltCntnt").hasClass("sajeLb")||$("#aspLB").find(".ltCntnt").addClass("sajeLb").html(lightbox_html)}},close:{nodes:$(".crossNPS,.lt_close"),layer:!1}})}trackUserIntraction({action:"MJR_PAGE_IMPRESSIONS_CV_RECO"})});