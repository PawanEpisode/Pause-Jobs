if(!model)var model=function(){function a(a,c){var d,e,f,g=a.nodeName.toLowerCase();return"area"===g?(d=a.parentNode,e=d.name,!(!a.href||!e||"map"!==d.nodeName.toLowerCase())&&(f=$("img[usemap=#"+e+"]")[0],!!f&&b(f))):(/input|select|textarea|button|object/.test(g)?!a.disabled:"a"===g?a.href||c:c)&&b(a)}function b(a){return $.expr.filters.visible(a)&&!$(a).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}function c(){var a=this.options.open.minZIndex;return $(".ltCont .ltLayer").each(function(){var b=parseInt($(this).css("z-index"));b>a&&(a=b)}),a}var d=function(){var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var b in a)if(void 0!==document.documentElement.style[b])return a[b]}();$.expr[":"].focusable=function(b){return a(b,!isNaN($.attr(b,"tabindex")))};var e={is_options_valid:function(a){return!(!a||!a.model||1!==a.model.prop("nodeType"))},switchClass:function(a,b){this.removeClass(a).addClass(b)}},f={model:null,dimens:{height:"auto",width:"auto"},resetForm:!1,fixed:!1,zLayer:!0,open:{minZIndex:999,success:function(){},event:"click",selector:null,anim:""},close:{esc:!0,layer:!0,nodes:{target:"",event:"click",selector:""},success:function(){},returnFocus:!0,anim:""}},g=function(){var a=$('<div class="ltCont close"></div>').attr("tabIndex",0),b=$('<div class="ltLayer close"></div>');return a.append(b),$(window).bind("resize",function(){if(g.stack.length){var a=g.stack[0];a.resize()}}),$("html").keydown(function(a){27===a.keyCode&&g.stack.length&&g.stack[0].options.close.esc&&g.stack[0].close()}),b.click(function(a){a.stopPropagation(),g.stack[0].close_target=this,g.stack.length&&g.stack[0].options.close.layer&&g.stack[0].close()}),{stack:[],cont:a,layer:b}}();$(function(){$("body").append(g.cont)});var h=(function(){g.cont.keydown(function(a){if(g.stack.length&&9===a.keyCode){var b=g.stack[0].options.model.find(":focusable"),c=b.first(),d=b.last();return a.target!==d[0]&&a.target!==a.currentTarget||a.shiftKey?a.target!==c[0]&&a.target!==a.currentTarget||!a.shiftKey?void a.stopPropagation():(d?d.focus():"",!1):(c?c.focus():"",!1)}}),$("html").keydown(function(a){if(9===a.keyCode)return g.stack.length?(g.cont.focus(),!1):void 0})}(),function(){this.options.model.css({position:this.options.fixed?"fixed":"absolute",width:this.options.dimens.width,height:this.options.dimens.height})}),i=function(a){this.options=$.extend(!0,{},this.default_opt,a)},j=function(){var a=this.options.model.parent();a.hasClass("ltCont")||g.cont.append(this.options.model)},k={open:function(){var a=[this.options.close.anim,this.options.open.anim];e.switchClass.apply(this.options.model,a)},close:function(a){var b=[this.options.open.anim,this.options.close.anim];e.switchClass.apply(this.options.model,b)}},l=function(){var a=document.documentElement.scrollTop,b=this.options.open.firstFocus;b?b.focus():g.cont.focus(),document.documentElement.scrollTop=a},m=function(){if(this.options.resetForm)for(var a=this.options.model.find("form"),b=0;b<a.length;b++)a[b].reset()},n=function(){if(!g.stack.length){var a=this.options.close.returnFocus;a===!0?this.options.trigger.focus():$(a).focus()}},o=function(){if(0==this.transEndCbFired){if(this.transEndCbFired=!0,this.options.model.removeClass("model_open"),this.options.model.css("zIndex","-1"),g.stack.length){var a=g.stack[0];this.options.zLayer&&g.layer.css("zIndex",a.options.model.css("zIndex"))}else g.cont.addClass("close");n.call(this),m.call(this),this.options.close.success.call(this,this.close_target)}},p=function(){var a=this;a.state="close",this.openEventHandler=function(){a.open()},this.options.trigger.on(this.options.open.event+"."+this.pluginName,this.options.open.selector,this.openEventHandler),q.call(this,this.options.close.nodes)},q=function(a){var b=this;if("array"===$.type(a))return void $.each(a,function(a,c){q.call(b,c)});var c=null;a.constructor===jQuery?(c=$.extend({},this.default_opt.close.nodes),c.target=a):c={target:$(a.target),event:a.event,selector:a.selector},c.target.on(c.event,c.selector,function(){b.close()})},r=function(a){i.call(this,a),this.init_structure(),h.call(this),p.call(this),this.options.model.addClass(this.options.close.anim)},s=function(a){this.options.trigger.off(this.options.open.event+"."+this.pluginName)},t=function(){this.options.trigger.off(this.options.open.event,this.openEventHandler)},u=function(){this.options.trigger.on(this.options.open.event,this.openEventHandler)},v=function(){model.lt.cont.css({width:"auto",height:"auto"});var a=$(document).height(),b=$(document).width();model.lt.cont.css({width:b+"px",height:a+"px"})},w=function(){this.transEndCbFired=!1,this.state="open",this.options.model.addClass("model_open"),this.options.model.data("model",this);var a=c.call(this);this.options.zLayer&&g.layer.css("zIndex",a+3),"drawer"!=this.pluginName&&this.options.model.css("zIndex",a+3),g.stack.length||(g.cont.css("zIndex",a+1),this.util.switchClass.call(g.layer,"close","open"),g.cont.removeClass("close")),m.call(this),$.inArray(this,g.stack)===-1&&g.stack.unshift(this),this.resize(),k.open.call(this),l.call(this),this.options.open.success.call(this)},x=function(a,b){a=a||$(g.stack).index(this),!g.stack.length||a<0||(this.state="close",this.options.model.data("model",this),g.stack.splice(a,1),d&&!b&&this.options.open.anim?k.close.call(this):o.call(this),g.stack.length||this.util.switchClass.call(g.layer,"open","close"))},y=function(a){function b(a,b){var c=b.data("model");c&&c.options&&c.options.model[0]===a.model[0]&&s.call(this),a.trigger=b,r.call(this,a)}var c=function(){};c.prototype=model;var d=new c;return d.pluginName=a,b.prototype=d,b};return{isTransitionEndSupported:d,transEndCbFired:!1,pluginName:"",state:"close",util:e,lt:g,reInit:s,close_returnFocus:n,getNewModel:y,open:w,close:x,on:u,off:t,resize:v,default_opt:f,init_structure:j,closeTransEnd_cb:o}}();!function(a){var b="lightBox",c=model.getNewModel(b);c.prototype.resize=function(){model.resize();var b=document.documentElement||document.body,c=a(window).height(),d=a(window).width(),e=window.pageYOffset?pageYOffset:b.scrollTop,f=(window.pageXOffset?pageXOffset:b.scrollLeft,c-this.options.model.height()),g=0,h=d-this.options.model.width(),i=0;return f>0?g=(this.options.fixed?0:e)+f/2:(g=0,window.scrollTo(0,g)),i=h>0?h/2:0,this.options.model.css({top:g+"px",left:i+"px"}),!0},a.fn.lightBox=function(b){var d,e=null,f=null;if(b)try{if(d=b.model,b.model=b.ltBox,b.ltBox=null,!b.model)throw d}catch(g){b.model=g}if(model.util.is_options_valid(b)){if(b.open)try{if(d=b.open.anim,d&&!(b.open.anim=b.open.anim.className))throw d}catch(g){b.open.anim=g}if(b.close)try{if(d=b.close.anim,d&&!(b.close.anim=b.close.anim.className))throw d}catch(g){b.close.anim=g}a.each(this,function(d,g){var h=a(g);e=new c(b,h),f={resize:function(){e.resize()},open:function(){e.open()},close:function(a,b){e.close(a,b)},on:function(){e.on()},off:function(){e.off()}},h.data("model",f)}),b.model.on(model.isTransitionEndSupported,function(){b.model.hasClass(e.options.close.anim)&&model.closeTransEnd_cb.call(b.model.data("model"))})}return this.data("model")||e},a.fn.lightBox.close=function(a){var b,c;b=0,c=0,a=a||{},a.all&&(b=model.lt.stack.length-1),a.allPrevious?(b=model.lt.stack.length-1,c=1):a.index&&(c=b=a.index);for(var d=b;d>=c;d--)d in model.lt.stack?model.lt.stack[d].close(d,a.noAnim):""},a.fn.lightBox.closeAll=function(b){a.fn.lightBox.close(b||{all:!0})}}(jQuery);var DD=function(a,b,c){var d=new droope(a,b,c);return Object.keys&&$("#"+Object.keys(a.id)[0]).data("droope",d),d},droope=function(a,b,c){function d(){return arguments.length?function(arguments){}:function(){}}function e(a){var b=$(a.target).parents(".ddwn");if(!b.length&&Boolean(b.attr("searchDisabled"))!==!0){var c=$(".ddwn");c.find(".DDwrap").removeClass("brBotN"),c.find(".drop").hide()}}function f(a){function b(a){return function(){var b=$(this).attr("id"),c=a[b],d=c.id;if(d)for(var e in d){d[e];l.chkBox?l.removeAllTags():(l.inpElm.val(""),l.inpHid.data("optGroupKey","")),l.Allflg="",l.hideDD()}c.clrCalbackfun&&l.onClearTag[b](l.obj,0,$(this))}}for(var c=0;c<l.idLen;c++){var d,e=l.idKey[c];if(l.clearAllInside){var f="Clear All";for(var g in l.clearAllInside)f=l.clearAllInside[g];d=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+e}).html(f)}var h=$("#"+e).find(".srchTxt");if(!l.dpLyr||!l.dpLyr.length){var i=h.attr("name");h.data({name:i});var j;$("#"+e).find(".arw").addClass("DDarwDwn");l.chkBox?j=$("#"+e).find(".DDsearch li"):(j=$("#"+e).find(".DDsearch"),$("#"+e).addClass("singleSelect")),h.data({id:"inp_"+e,placeholder:h.attr("placeholder")}).attr({name:"",autocomplete:"off"}),l.isSearch||h.attr("readonly","readonly"),l.outerCont.find(".frst").css({"float":"none"}),$("#hid_"+e).length?l.inpHid=$("#hid_"+e):(l.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+e,name:i}),j.append(l.inpHid));var k=$("<div>"),m=$("<div>"),n=$("<ul>"),o=$("#"+e),p=l.chkBox?"ChkboxEnb":"";l.dpLyr=k,m.addClass("nScroll").attr("id","ul_"+e),k.addClass("drop").attr("id","dp_"+e),n.addClass(p),m.append(n),d?k.append(d):"",k.append(m),o.append(k),$("#"+e).on("click",".DDinputWrap, .DDsearch, .arw",function(a){a.stopPropagation(),h[0].focus()}).on("mouseenter",function(){l.layerOpenStatus=l.srchBx!==!1}).on("mouseleave",function(){l.layerOpenStatus=!1})}l.bindEvents(h),l.layerOpenStatus=l.srchBx!==!1}if(l.fillData(),l.clrId)for(var g in l.clrId)$("#"+g).on("click",b(l.clrId))}function g(){var a=l.id;lastOpen=a,$("#"+a).find(".DDwrap").addClass("brBotN"),$("#"+a).find(".drop").show(),$("#ul_"+a)[0].scrollTop=0;var b=$("#"+a).outerWidth()-2+"px";l.dpLyr.css({width:b}),l.max_height(),l.chkBox||l.firstHighlight()}function h(a){$(document).on("keydown",l.disb_Scroll_handler)}function i(a){$(document).off("keydown")}function j(a){return a>n?n+=5:void(n+=1)}function k(a,b){if(""!==l.inpElm.val()&&n>m){if(b>n)return n-=5;n-=1}}var l=this,m=30;l.obj=a;var n=l.obj.postPlaceholder?l.obj.postPlaceholder.width:30;l.prefillData=a.prefillData,l.parentRefData={},l.liCntrFx=[],l.preventClickFor=a.preventClickFor||[],l.onDeselect=a.onDeselect,l.liCntr=[],l.isReset=!0,l.sortPrefix=a.sortPrefix,l.idKey=[],l.hidValue=[],l.maxTagsCount=a.maxTagsCount||999,l.pKey=c,l.idLen=0,l.tagwithOptGroup=a.tagwithOptGroup||!1,l.srchBx=a.searchBox!==!1,l.clrId=a.clearTagId,l.tagsSorting=a.tagsSorting!==!1,l.MrgPrfAryOrdr=a.appendTags||!1,l.onClearTag=[];for(l.idKey[l.idKey.length]in a.id);l.idLen=l.idKey.length,l.sugHgt=a.maxHeight||300,l.clearAllInside=a.clearAllInside||!1,l.parentChkBox=a.parentChkBox||!1,l.chkBox=a.checkBox||!1,l.allChk=a.allChk||!1,l.allChecked=a.allChecked||!1,l.layerOpenStatus=!1,l.tags=a.tags!==!1||a.tags,l.TagSpCnt=a.tagInSepContainer||!1,l.id=l.idKey[0],l.preTxt=a.preText===!1?"":a.preText||"You have selected",l.Allflg="",l.postTxt=a.postText===!1?"":a.postText||"item(s)",l.curActElm="",l.Tagfocus=0,l.onClickAll=a.onClickAll||d(),l.onClickLi=a.onClickReq||d(),l.onTagClk=a.onTagClick||d(),l.onTagCrt=a.onTagCreate||d(),l.outerCont=$("#"+l.id),l.inpElm=l.outerCont.find(".srchTxt"),l.TagCnt=0,l.tagTitle=a.tagTitle||!1,l.optgrpNameRef=[],l.optgrpObject={},l.onChange=a.onChange||d(),l.showSelText=a.showSelText||!1,l.isReadOnly=l.inpElm.is("[readonly]"),l.preventInputFilling=a.preventInputFilling||!1,l.preserveText=a.preserveText||!1,l.preserveInputVal=a.preserveInputVal||!1,l.removeHiddenVal=a.removeHiddenVal||!1,l.pKey?(l.chkBox||(droope.Ary[l.id]={}),droope.Ary[l.id]||(droope.Ary[l.id]={}),droope.Ary[l.id][l.pKey]=a.id[l.id][0],l.Ary=droope.Ary[l.id]):(l.Ary={},l.Ary.A=a.id[l.id][0]),l.prefillData=a.prefillData||l.obj.id[l.id][1],l.isSearch=0!=a.isSearch,l.selectOnBlur="undefined"!=typeof a.selectOnBlur&&a.selectOnBlur,l.blurDelay=a.blurDelay,l.onBlur=a.onBlur||d(),l.toggleDropLayer="undefined"==typeof a.toggleDropLayer||a.toggleDropLayer,droope.lastRef.iseventBindOnDocument||($(document).on("click touchstart",function(a){setTimeout(function(){e(a)},300)}),$(document).on("focus",".srchTxt",function(a){window.lastOpen&&"block"==$("#"+window.lastOpen).find(".drop").css("display")&&(e(a),$("#"+window.lastOpen).find(".drop").hide(),$("#"+window.lastOpen).find(".DDwrap").removeClass("brBotN"))}),droope.lastRef.iseventBindOnDocument=!0);var o=function(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;")},p=function(a){if(a.indexOf("<b>")!=-1){a=a.split("<b>");var b=a[1].split("</b>"),c=[a[0],b[0],b[1]],d=[];for(var e in c)d.push(o(c[e]));return d[0]+"<b>"+d[1]+"</b>"+d[2]}return o(a)};l.replaceTag=function(a){return a.toString().indexOf("<")!=-1?p(a):a},l.setLi=function(a){var b=this;if($("#ul_"+a).find("li").length<b.liCntrFx){var c=b.appendData(b.Ary,"","",!0);b.dpLyr.find("ul").html(c[0]),b.liCntr=b.liCntrFx}},l.obj.resetPrefillValues?l.ChkBoxContr={}:l.ChkBoxContr?"":l.ChkBoxContr={};for(var q in a.clearTagId)for(var r in a.clearTagId[q])l.onClearTag[q]=a.clearTagId[q][r];l.Fn={preserveEventafterClone:function(b,c){var d,e=l.id;d=l.TagSpCnt?$("#"+l.TagSpCnt).find('[data-id="'+b+'"]'):$("#"+e).find(".DDsearch").find('[data-id="'+b+'"]'),d.on("click",".dCross",function(d){d.stopPropagation(),l.removeTag(b,$(this).find(".tagTxt").text(),c),l.max_height(),c?l.onTagClk(a,l.TagCnt):"",l.setInputText(),"block"==l.dpLyr.css("display")?$("#"+e).find(".srchTxt")[0].focus():""})},keyUpEv:function(a){var b=$(this).data("id"),c=$("#"+b).width()-15,d=(b.split("_")[1],a.keyCode||a.which),e=$(this).val().replace(/\b/g,"");if(13==d&&l.curActElm&&l.curActElm.length&&!l.curActElm.hasClass("noData")&&l.curActElm.hasClass("active")){var f=l.curActElm.children("a");if(l.chkBox){var g=f.data("id")+"_"+l.Escp(l.curActElm.attr("bindto"));f.hasClass("chkd")?l.removeTag("tg_"+g,f.html(),!0):l.CreateTags(f,g,"",l.tags)}else l.SingleSelection(f.text(),f.data("id").split("_")),l.hideDD()}8==d&&l.chkBox&&!l.TagSpCnt&&l.tags!==!1&&(e?wth=k(b,c)+"px":""!=l.inpHid.val()?wth=n+"px":wth="",l.inpElm.css({width:wth})),l.isReadOnly||9==d||13==d||18==d||32==d||37==d||38==d||39==d||40==d||16==d||(l.Fn.initSearch(e,b,d),"none"==l.dpLyr.css("display")&&l.dpLyr.show()),l.removeHiddenVal&&(e||l.inpHid.attr("value",""))},initSearch:function(a,b,c){var d="";srchCntr=0,b=b.split("_")[1];var e=l.Ary;if(a){a=a.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var f in e)for(var g in e[f])if("object"==typeof e[f][g]){var h,i="";h=e[f][g];for(var j in h)i+=l.searchData(h[j],a,b,b+"_"+j+"_"+l.eUnderScore(g),l.Escp(f));i&&(d+='<li class="optgroup">'+l.eUnderScore(g)+"</li>"+i,srchCntr++)}else $("#"+b).find(".cross").show(),d+=l.searchData(e[f][g],a,b,b+"_"+l.eUnderScore(g),l.Escp(f)),srchCntr++}else $("#"+b).find(".cross").hide(),d=l.appendData(l.Ary,"","",c)[0],srchCntr=l.liCntrFx;if(!d){var k=l.obj.noDataTxt?l.obj.noDataTxt:"No data found in search";d='<li class="noData">'+k+"</li>",srchCntr++}l.dpLyr.find("ul").html(d),l.liCntr=srchCntr,l.max_height(),l.firstHighlight()}},window.intervalX=0,l.blurEv=function(a){var b=l.id,c=l.selectOnBlur;if(!l.TagSpCnt&&l.chkBox?$("#"+b).find(".tagit:last").removeClass("TagSelected"):"",l.isReadOnly&&i(a),l.layerOpenStatus||l.hideDD(),!l.chkBox){var d,e,f,g=l.inpHid,h=l.inpElm,j=l.uEscp(g.attr("opt")),k=g.val(),m=l.Ary.A;f=l.getKeyFromVal(l.Ary.A,h.val()),c?(d=f.retKey,e=f.parentKey?j?m[j][k]:m?m[f.parentKey][d]?m[f.parentKey][d]:m[f.parentKey][k]:"":j?m[j][k]:m?m[d]?m[d]:m[k]:""):e=f.parentKey?j?m[j][k]:m?m[f.parentKey][k]:"":j?m[j][k]:m?m[k]:"",h.val()?e&&!l.preventInputFilling&&(l.preserveInputVal&&(e=$(this).val(),g.val("")),h.val(e).css({color:"#444"}),l.blurClearTimeoutId=setTimeout(function(){if(c){var a=d?d:l.getKeyFromVal(l.Ary.A,e).retKey,b=a.replace(l.sortPrefix,"");g.val(b),l.onBlur(b)}},l.blurDelay||0)):(g.val(""),"none"==l.dpLyr.css("display")&&l.onChange(""),l.onDeselect&&l.onDeselect())}},l.getKeyFromVal=function(a,b,c){var d=a,e={};for(var f in d){if("object"==typeof d[f])return l.getKeyFromVal(d[f],b,f);if($.trim(d[f].toString().toLowerCase())==$.trim(b.toLowerCase())){e.retKey=f;break}}return c&&(e.parentKey=c),e},l.focusEv=function(a){l.layerOpenStatus=l.srchBx!==!1,l.inpt=$(this);var b=$(this).data("id");b.split("_")[1];l.DDSearch=$(this).parent(".DDSearch"),g(),l.isReadOnly&&h(a),$("#"+b).css({color:"#444"}),setTimeout(function(){intervalX=1},200)},l.keyDownEv=function(a,b){var c,d=l.id,e=a.keyCode||a.which,f=$("#"+d).width()-15,h=b.val().replace(/\b/g,""),i=l.dpLyr.css("display");if(13!=e&&38!=e||a.preventDefault(),13==e&&"none"==i&&!l.chkBox&&l.obj.form&&l.obj.form[0].submit(),9==e||27==e?l.hideDD():"",(e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57)&&!l.TagSpCnt&&l.chkBox&&l.tags!==!1&&(c=j(f),l.inpElm.css({width:c+"px"})),!h&&l.chkBox){var k=$("#"+d).find(".tagit:last"),m=k.data("id");l.TagCnt>0&&8==a.keyCode&&!l.TagSpCnt&&m&&m.length>0?l.Tagfocus?(l.removeTag(m,k.children(".tagTxt").html(),!0),l.Tagfocus=0):($("#"+d).find(".DDsearch").find('[data-id="'+m+'"]').addClass("TagSelected"),l.Tagfocus=1):m&&($("#"+d).find(".DDsearch").find('[data-id="'+m+'"]').removeClass("TagSelected"),l.Tagfocus=0)}var n=$("#ul_"+d),o=n.find("ul"),p=o.find("li:first-child");if(l.curActElm.length||(l.curActElm=p),40==e)if("none"==i)l.hideDD(),g();else{var q,r=l.curActElm.next();r.length&&!r.hasClass("noData")&&(q=r.hasClass("optgroup")?r.next():r,l.curActElm.removeClass("active"),q.addClass("active"),l.curActElm=q,ieObj.scrollHandler(l.dpLyr,o.parent(),p,l.curActElm))}else if(38==e){var s,t=l.curActElm.prev();t.length&&(s=t.hasClass("optgroup")?t.prev():t,s.length&&(l.curActElm.removeClass("active"),s.addClass("active"),l.curActElm=s,ieObj.scrollHandler(l.dpLyr,o.parent(),p,l.curActElm)))}},l.fillDatainDropdwonLayer=function(a,b,c,d,e){l.inpElm;l.chkBox&&l.inpHid.attr({value:""}),l.srchBx===!1?($("#"+a).attr("searchDisabled",!0).find(".DDwrap").hide(),$("#"+a).find(".drop").css({position:"static"})):$("#"+a).find("div.drop").css({borderTop:0}),$("#ul_"+a).find("ul").html(b),b="",l.srchBx===!1?g():"",(l.allChk||l.parentChkBox)&&l.chkForParent(l.optgrpObject,l.DATA,a)},l.liMousehover=function(){l.id;l.dpLyr.on("mouseover","li.pickVal",function(){l.curActElm.length?"":l.firstHighlight(),l.curActElm.removeClass("active"),$(this).addClass("active"),l.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},l.max_height=function(){for(var a=l.id,b=$("#ul_"+a),c=0,d=$("#ul_"+a).find(" ul li:first");d.length&&l.sugHgt>=c;)c+=d.outerHeight(),d=d.next();l.sugHgt<c?b.css({height:l.sugHgt+"px"}):b.css({height:c+"px",width:"100%"}),b.length&&b[0].csb&&b[0].csb.reset()},l.PickValuesFromDD=function(){var b;l.id;l.dpLyr.on("click",".pickVal a",function(c){if(l.chkBox){var d=0,e=$(this),f=e.data("id");if(l.parentChkBox)var g=$(this).data("id").split("_"),h=g[g.length-1];if($(this).hasClass("chkd")&&(d=1),b=e.html(),f.split("_")[1]==l.eUnderScore(l.otherLabId))1==d?l.onClickLi(a,l.otherLabId,"unChecked"):l.onClickLi(a,l.otherLabId,"checked"),l.hideDD();else{var g=$(this).data("id").split("_");if(l.parentChkBox)var h=l.dUnderScore(l.uEscp(g[g.length-1])),i=l.uEscp(g[g.length-2]);else var h="All",i=l.uEscp(g[g.length-1]);if(1==d){var j=f;if($(this).parent().attr("bindto")&&(j=f+"_"+l.Escp($(this).parent().attr("bindto"))),l.removeTag("tg_"+j,b,!0),l.parentChkBox||l.allChk){var k=l.optgrpObject[h].checked.indexOf(i);k>-1&&l.optgrpObject[h].checked.splice(k,1),l.optgrpObject[h].unchecked.push(i),l.chkForParent(l.optgrpObject,"",f)}}else{var m=$(this).parent().attr("bindto");if(m?f=f+"_"+l.Escp(m):"",l.CreateTags(e,f,"",l.tags),l.parentChkBox||l.allChk){var k=l.optgrpObject[h].unchecked.indexOf(i);k>-1&&l.optgrpObject[h].unchecked.splice(k,1),l.optgrpObject[h].checked.push(i),l.chkForParent(l.optgrpObject,"",f)}}l.srchBx!==!1&&l.allChk!==!0?setTimeout(function(){l.inpElm[0].focus()},100):""}}else l.SingleSelection($(this).text(),$(this).data("id").split("_"))})},l.SingleSelection=function(b,c){var d=c[0],e=c[2]?c[2]:"";l.inpElm&&!l.preventInputFilling?l.inpElm.val(b):"",$("#"+d).find(".cross").show();var f=l.dUnderScore(l.uEscp(c[1])).replace(l.sortPrefix,"");l.inpHid.attr({value:f}).data("optGroupKey",e),l.layerOpenStatus&&l.hideDD(),l.onClickLi(a,f),l.onChange(f)},l.CreateTags=function(b,c,d,e){var f=l.id,g=c.split("_")[1];if(e="-1"==$.inArray(g,l.preventClickFor)&&0!=e,l.hidValue.length<l.maxTagsCount){var h,i=l.uEscp(c).split("_"),j=c.split("_"),k=3==j.length?j[0]+"_"+j[1]:j[0]+"_"+j[1]+"_"+j[2];if("string"!=typeof b?(h=b.html(),b.addClass("chkd")):h=b,l.TagCnt++,l.obj.postPlaceholder&&l.obj.postPlaceholder.text?l.inpElm.attr("placeholder",l.obj.postPlaceholder.text):l.inpElm.attr("placeholder",""),e!==!1){h=h.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),l.tagwithOptGroup?h="<b>"+i[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+h+")":"";var m,o=$("<li>").append('<span class="tagTxt">'+h+"</span>"),p="tg_"+c;l.tagTitle&&o.attr("title",h);var q=l.TagSpCnt;if(q||e===!1){var r=o.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":p}),s=$("#"+q)[0];if(l.MrgPrfAryOrdr){var t=s.children[d];t?t.parentNode.insertBefore(r[0],t):$("#"+q).append(r)}else e===!1?"":s.insertBefore(r[0],s.firstChild);l.inpElm.css({color:"#444"}),m=p+" a.dCross"}else l.MrgPrfAryOrdr?$("#"+f).find(".DDsearch li:last").before(o.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":p})):$("#"+f).find(".DDsearch").prepend(o.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":p})),l.inpElm.css({width:n+"px"}),m=p+" span.dCross";l.Fn.preserveEventafterClone(p,!0)}$("#ul_"+l.id).find('[data-id="'+k+'"]').addClass("chkd"),l.setValueInHiddenField(i[1],h),l.ChkBoxContr[i[1]]=c,l.onClickLi(a,l.dUnderScore(l.uEscp(i[1])),"Checked",$('li[data-id="tg'+c+'"]'),l.TagCnt),l.setInputText()}else l.onTagCrt("Maximum Tags Created");l.tags&&!l.TagSpCnt&&(l.inpElm.val(""),l.setLi(l.id),l.max_height())},l.disb_Scroll_handler=function(a){var b=a.keyCode;if(40===b||38===b||32===b)return a.preventDefault(),!1},l.setValueInHiddenField=function(a,b,c){var d=l.id;if(a&&b){"all"==b.toLowerCase()&&(l.Allflg="all"),a=l.dUnderScore(l.uEscp(a)).replace(l.sortPrefix,"");var e=l.inpHid.val();e?(l.hidValue.push(a),l.inpHid.val($.stringify(l.hidValue))):(l.hidValue.push(a),l.inpHid.val($.stringify(l.hidValue)),$("#clrAll_"+d).show(),l.TagSpCnt?$("#"+l.TagSpCnt).show():$("#"+d).find("li.frst").css({"float":"left"})),l.onTagCrt()}else c!==!1&&(l.inpElm.val(""),l.inpHid.val(""));l.onChange(l.hidValue)},f(),l.PickValuesFromDD(),l.liMousehover(),l.clickParent(),l.clickMain(),this.allChecked&&$('li.optgroup[data-id="opt_all"]').click()};droope.prototype.bindEvents=function(a){function b(a){intervalX?c.hideDD():window.isFocus||c.focusEv.call(this,a)}var c=this;c.toggleDropLayer?(c.inpElm.on("touchstart click",function(a){a.stopPropagation(),"touchstart"==a.type?(c.inpElm.off("click"),b.call(this,a)):"click"==a.type&&b.call(this,a)}),c.inpElm.on("focus",function(a){window.isFocus=1,c.focusEv.call(this,a)}),c.inpElm.on("keydown",function(a){c.keyDownEv(a,$(this))}).on("keyup",c.Fn.keyUpEv).on("blur",c.blurEv)):c.inpElm.on("focus click",c.focusEv).on("keydown",function(a){c.keyDownEv(a,$(this))}).on("keyup",c.Fn.keyUpEv).on("blur",c.blurEv)},droope.prototype.disable=function(){var a=this;$("#"+a.id).addClass("disable"),a.inpElm.attr("readonly","readonly"),a.inpElm.off("click focus keydown keyup blur")},droope.prototype.enable=function(){var a=this,b=$("#"+a.id);b.hasClass("disable")&&(b.removeClass("disable"),a.inpElm.removeAttr("readonly"),a.bindEvents())},droope.prototype.prefillDataFormation=function(a){var b=this,c=(b.id,{});if(b.chkBox)if(a&&"object"==typeof a)for(var d in a)c[a[d]]="1";else c[a]="1";else c=a;return c},droope.prototype.removeAllTags=function(){var a=this,b=a.id;for(var c in a.ChkBoxContr){var d,e=a.ChkBoxContr[c],f=e.split("_");if(3==f.length?d=f[0]+"_"+f[1]:4==f.length&&(d=f[0]+"_"+f[1]+"_"+f[2]),$("#ul_"+b).find('[data-id="'+d+'"]').removeClass("chkd"),a.TagSpCnt?$("#"+a.TagSpCnt).find('[data-id="tg_'+e+'"]').remove():$("#"+b).find(".DDsearch").find('[data-id="tg_'+e+'"]').remove(),a.parentChkBox||a.allChk){if(a.parentChkBox)var g=a.dUnderScore(a.uEscp(f[2]));else var g="All";var h=f[1],i=a.optgrpObject[g].checked.indexOf(h);i>-1&&a.optgrpObject[g].checked.splice(i,1),a.optgrpObject[g].unchecked.push(h)}}a.parentChkBox&&$("#ul_"+b).find('li a[data-id="'+b+'"]').removeClass("chkd"),a.allChk&&($("#ul_"+b).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),a.onClickAll("unchecked")),a.resetInpWidth(b),a.ChkBoxContr={},a.inpHid.val(""),a.hidValue=[],a.TagCnt=0,a.setPlaceHolderAttribute()},droope.prototype.destroy=function(){var a=this,b=a.id;a.dpLyr.remove(),a.inpHid.remove(),$("#"+b).find(".DDsearch .tagit").remove(),a.inpElm.val("").attr({placeholder:a.inpElm.data("placeholder"),name:a.inpElm.data("name")}),a.inpElm.removeAttr("autocomplete style"),a.inpElm.off("focus keydown keyup blur")},droope.prototype.removeTag=function(a,b,c,d){var e=this,f=e.id,g=a.replace("tg_",""),h=e.uEscp(g).split("_"),i=$.parseJSON($("#hid_"+f).val()),j=4==h.length?h[0]+"_"+h[1]+"_"+h[2]:h[0]+"_"+h[1];if($.inArray(e.dUnderScore(e.uEscp(h[1])),i)!=-1){if($("#ul_"+f).find('[data-id="'+e.Escp(j)+'"]').removeClass("chkd"),e.parentChkBox){var k=j.split("_");k=k[k.length-1];for(key in e.parentRefData[k])$(e.parentRefData[k][key]).find("a").hasClass("chkd")||($("#ul_"+f).find('li[data-id="opt_'+k+'"]').find("a").removeClass("chkd"),$("#ul_"+f).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+f).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),e.onClickAll("unchecked")))}d?$("#"+d).remove():e.TagSpCnt?$("#"+e.TagSpCnt).find('[data-id="'+a+'"]').remove():$("#"+f).find(".DDsearch").find('[data-id="'+a+'"]').remove(),e.emptyHidField(g.split("_")[1],f,b),e.TagCnt--,e.TagCnt||e.setPlaceHolderAttribute();for(var l in e.ChkBoxContr)e.ChkBoxContr[l]==g&&delete e.ChkBoxContr[l];c?e.onClickLi(e.obj,e.dUnderScore(e.uEscp(h[1])),"Unchecked","",e.TagCnt):"",e.setInputText()}},droope.prototype.fillData=function(){for(var a=[],b=this,c=b.id,d=0;d<b.idLen;d++){var e=b.prefillDataFormation(b.prefillData);a[c]=e;b.inpHid.val()&&b.removeAllTags(),b.NLi=b.appendData(b.Ary,a,e),b.fillDatainDropdwonLayer(c,b.NLi[0],d,b.NLi[3],b.NLi[4]),b.liCntrFx=b.liCntr=b.NLi[1],b.createTags_ifPrefillData(b.NLi[2])}},droope.prototype.appendData=function(a,b,c,d){var e,f,g="",h=this,i=h.id,j=[],k="",l=0,m=0;h.allChk&&(g+=h.createParLi("all","All","0",!0));for(var n in a){f=n;for(var o in a[n]){var p=o.replace(h.sortPrefix,""),q=h.eUnderScore(h.Escp(p));if("object"==typeof a[n][o]){var r=h.parentChkBox;g+=h.createParLi(q,o,i,r,f);var s=[];l++;var t=[];h.optgrpObject[o]={},h.optgrpObject[o].checked=t,h.optgrpObject[o].unchecked=s;for(var u in a[n][o]){c&&void 0!=c[u]?t.push(u):s.push(u),h.optgrpNameRef[u]={pName:o,text:a[n][o][u]};var v=h.Escp(u).replace(h.sortPrefix,"");if(b[i])if(b[i][u]){var w;if(parseInt(b[i][u])?w=u:"",w===u){h.inpVal=u,k=a[n][o][u];var x=n?i+"_"+v+"_"+q+"_"+n:i+"_"+v+"_"+q,y=[k,x,i,v];j[m++]=y,l++,g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n),e=q}}else{c.toString()===u&&(h.inpVal=u,k=a[n][o][u],e=q,h.SingleSelection(k,[i,u])),l++;var z=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,z)}else{c===u&&(h.inpVal=u,k=a[n][o][u]);var A=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,A),l++}}}else{if(h.optgrpNameRef[o]={text:a[n][o]},h.allChk){var s=[],t=[];h.optgrpObject.All={},h.optgrpObject.All.checked=t,h.optgrpObject.All.unchecked=s;for(var u in a[n])void 0!=c[u]?t.push(u):s.push(u)}if(h.optgrpNameRef[o]={text:a[n][o]},h.chkBox){var B="";if(b&&!$.isEmptyObject(b[i])&&(b[i][p]?B=p:""),B==p){var C=[a[n][o],i+"_"+q+"_"+n,i,o];j[m++]=C,g+=h.createLi(i+"_"+q,a[n][o],n,""),l++}else{var D=h.selCheckBox(i,q,n);g+=h.createLi(i+"_"+q,a[n][o],n,D),l++}}else h.prefillData==p?(g+=h.createLi(i+"_"+q,a[n][o]),h.inpVal=p,k=a[n][o],l++,d?"":h.SingleSelection(a[n][o],[i,p])):(g+=h.createLi(i+"_"+q,a[n][o]),l++)}}}if(h.chkBox&&h.tagsSorting===!1){var E=[],F=0;for(var G in c)for(var H in j)j[H][3]==G&&(E[F++]=j[H]);j=E}return $.extend(h.Ary[f],a[f]),[g,l,j,k,e]},droope.prototype.chkForParent=function(a,b,c){var d=0,e=0,c=c.split("_")[0];for(key in a)d++,0==a[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),e++):($("#ul_"+c).find('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").removeClass("chkd"),$("#ul_"+c).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+c).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),this.onClickAll("unchecked")));d==e&&($("#ul_"+c).find('li[data-id="opt_all"]').find("a").addClass("chkd"),this.onClickAll("checked"))},droope.prototype.Escp=function(a){return a?a.replace(/\s/g,"SxP"):""},droope.prototype.uEscp=function(a){return!!a&&a.replace(/SxP/g," ")},droope.prototype.eUnderScore=function(a){return a?a.replace(/\_/g,"undrxxscr"):""},droope.prototype.dUnderScore=function(a){return a?a.replace(/undrxxscr/gi,"_"):""},droope.prototype.clickParent=function(){var a=this,b=a.id;$("#ul_"+b).on("click","li.optgroup",function(){var a=this,b=$(this).nextUntil("li.optgroup"),c=b.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")&&$(b).eq(i).find("a").click();$(a).children("a").removeClass("chkd")}else{for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")||$(b).eq(i).find("a").click();$(a).children("a").addClass("chkd")}})},droope.prototype.clickMain=function(){var a=this,b=a.id;$("#ul_"+b).on("click",'li.optgroup[data-id="opt_all"]',function(b){b.stopImmediatePropagation();var c=this,d=$(this).siblings("li.optgroup"),e=d.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=e;j++)$(d).eq(j).find("a").hasClass("chkd")||$(d).eq(j).click();$(c).children("a").addClass("chkd")}else{for(j=0;j<=e;j++)$(d).eq(j).find("a").hasClass("chkd")&&$(d).eq(j).click();$(c).children("a").removeClass("chkd"),a.onClickAll("unchecked")}})},droope.prototype.searchData=function(a,b,c,d,e){var f="",g=this,a=a.toString();if(getPos=a.toLowerCase().indexOf(b.toLowerCase()),strLower=a.toLowerCase(),sTxtValueLower=b.toLowerCase(),spaceVal=!(strLower.indexOf(" "+sTxtValueLower)<0)&&strLower.indexOf(" "+sTxtValueLower),bracketVal=!(strLower.indexOf("("+sTxtValueLower)<0)&&strLower.indexOf("("+sTxtValueLower),slashVal=!(strLower.indexOf("/"+sTxtValueLower)<0)&&strLower.indexOf("/"+sTxtValueLower),getPos>=0&&(spaceVal||bracketVal||slashVal)||0===getPos){getPos&&(spaceVal?getPos=spaceVal+1:bracketVal?getPos=bracketVal+1:slashVal&&(getPos=slashVal+1));var h=a.substr(0,getPos),i="<b>"+a.substr(getPos,b.length)+"</b>",j=a.substr(getPos+b.length,a.length),k=g.Escp(d).replace(g.sortPrefix,"");f=g.selChkBox(k+"_"+e,c)?g.createLi(k,h+i+j,e,"chkd"):g.createLi(k,h+i+j,e)}return f},droope.prototype.selChkBox=function(a,b){var c=0,d=this;for(var e in d.ChkBoxContr)a==d.ChkBoxContr[e]&&(c=1);return!!c},droope.prototype.selCheckBox=function(a,b,c,d){var e=0;for(var f in this.ChkBoxContr){e=1;break}if(e)return d?this.selChkBox(a+"_"+d+"_"+b+"_"+c,a)?"chkd":"":this.selChkBox(a+"_"+b+"_"+c,a)?"chkd":""},droope.prototype.createParLi=function(a,b,c,d,e){e=e?'bindTo="'+e+'"':"",d=d?'class="'+d+'"':"";var f="";return f=d?'<a href="javascript:;" data-id='+c+">"+b+"</a>":b,'<li class="optgroup" '+e+" data-id=opt_"+a+">"+f+"</li>"},droope.prototype.createLi=function(a,b,c,d){return c=c?'bindTo="'+c+'"':"",d=d?'class="'+d+'"':"",'<li class="pickVal" '+c+'><a href="javascript:;" '+d+" data-id="+a+">"+this.replaceTag(b)+"</a></li>"},droope.prototype.resetInpWidth=function(a){$("#clrAll_"+a).hide(),this.inpElm.css({width:""}),$("#"+a).find("li.frst").css({"float":"none"})},droope.prototype.firstHighlight=function(){var a,b=this,c=b.id,d=$("#ul_"+c),e=d.find("ul");b.curActElm&&b.curActElm.removeClass("active"),b.curActElm=e.find("li:first-child");var f=b.Escp(b.inpHid.attr("value"));f&&!b.chkBox?(b.curActElm.removeClass("active"),
a=b.inpHid.data("optGroupKey")?c+"_"+f+"_"+b.inpHid.data("optGroupKey"):c+"_"+f,b.curActElm=e.find('[data-id="'+a+'"]').parent().addClass("active")):b.curActElm.addClass("active")},droope.prototype.emptyHidField=function(a,b,c){var d=this;c&&"all"==c.toLowerCase()?d.Allflg="":"";var e,f=d.dUnderScore(d.uEscp(a)).replace(d.sortPrefix,""),g=$.inArray(f,d.hidValue);g!==-1&&(d.hidValue.splice(g,1),e=$.stringify(d.hidValue)),0==d.hidValue.length&&(d.resetInpWidth(b),e=d.hidValue),d.inpHid.val(e),d.onChange(d.hidValue)},droope.prototype.setInputText=function(){var a,b=this,c=b.id,d="";if(a="all"==b.Allflg?"all":b.TagCnt,b.TagCnt)if(b.showSelText&&b.hidValue.length){for(var e=0;e<b.hidValue.length;e++)d+=b.Ary.A[b.hidValue[e]]+", ";d=d.slice(0,-2),b.TagSpCnt||b.tags===!1?b.inpElm.val(d):""}else b.TagSpCnt||b.tags===!1?b.inpElm.val(b.preTxt+" "+a+" "+b.postTxt):"";else b.inpHid.val()||b.preserveText||($("#"+c).find(".cross").hide(),b.chkBox&&b.inpElm.val(""),b.inpElm.css({width:""}))},droope.prototype.setPlaceHolderAttribute=function(){var a=this;a.inpElm.attr("placeholder",a.inpElm.data("placeholder")),a.inpElm.parents(".frst").css({"float-left":"none"})},droope.prototype.removeData=function(a){var b=this,c=(b.id,0);b.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==a.key){var d=$(this).children("a");if(d.length){var e=d.data("id");d.hasClass("chkd")&&(delete b.ChkBoxContr[b.uEscp(e.split("_")[1])],b.removeTag("tg_"+e+"_"+b.Escp(a.key),d.html(),!0))}c++,$(this).remove()}}),delete b.Ary[a.key],b.liCntr=b.liCntr-c,$("#ul_"+b.id).find("li").length||$("#"+b.id).find(".tagit").remove()},droope.prototype.removeBlockofData=function(a){this.removeData(a)},droope.prototype.addSelected=function(a,b){var c=this.id;for(var d in a)this.CreateTags(a[d],c+"_"+d+"_A",0,b)},droope.prototype.deleteSelected=function(a){var b=this.id;for(var c in a.keyObject)this.removeTag("tg_"+b+"_"+a.keyObject[c]+"_A","",a.tag_onof_flag,a.remId)},droope.prototype.select=function(a){var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];$.inArray(e[0],b.hidValue)==-1&&(g.pName?b.CreateTags(g.text,c+"_"+e+"_"+g.pName+"_A"):b.CreateTags(g.text,c+"_"+e+"_A"))}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection(b.optgrpNameRef[a.key].text,[c,a.key])}},droope.prototype.deselect=function(a){var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];g.pName?b.removeTag("tg_"+c+"_"+a.key[d]+"_"+g.pName+"_A"):b.removeTag("tg_"+c+"_"+a.key[d]+"_A")}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection("",[c])}},droope.prototype.addData=function(a){var b=this,c={},d=[],e={};e[a.key||"A"]=a.data,$.extend(b.Ary,e),a.status||(a.status="Checked");var f=a.key?a.key:"A";if("Checked"==a.status){c[f]=a.data;var g=b.prefillDataFormation(a.prefillData);d[b.id]=g,b.NLi=b.appendData(c,d,g),$("#ul_"+b.id).find("ul").append(b.NLi[0]),b.createTags_ifPrefillData(b.NLi[2]),b.liCntr+=b.NLi[1]}else"Unchecked"==a.status&&this.removeBlockofData(a)},droope.prototype.createTags_ifPrefillData=function(a){var b=this;b.id;if(b.chkBox&&a)for(var c=0;c<a.length;c++){for(var d in b.prefillData)if(b.prefillData[d]==a[c][3])break;b.CreateTags(a[c][0],a[c][1],d,b.tags)}b.setInputText()},droope.prototype.replaceData=function(a){var b=this;id=b.id;var c=a.isReset===!1?a.isReset:b.isReset,d=[],e=b.inpHid,f=$.trim(e.val());b.prefillData=a.prefillData;if(b.chkBox&&f&&(b.TagSpCnt?$("#"+b.TagSpCnt).find(".tagit").remove():$("#"+id).find(".DDsearch").find(".tagit").remove(),b.resetInpWidth(id),b.ChkBoxContr={},e.val(""),b.hidValue=[],b.TagCnt=0,b.setPlaceHolderAttribute()),c&&(b.inpElm.val(""),e.val("")),$.isEmptyObject(a.data))throw"Either data object is empty or undefined";b.Ary={A:a.data},b.ChkBoxContr=[];var g=b.prefillDataFormation(a.prefillData);d[id]=g;var h=b.appendData(b.Ary,d,g);b.dpLyr.find("ul").html(h[0]),b.createTags_ifPrefillData(h[2]),b.liCntr=h[1],b.firstHighlight(),b.max_height()},droope.prototype.hideDD=function(){var a=this,b=a.id;if("block"==a.dpLyr.css("display")){if(a.dpLyr.hide(),$("#"+b).find(".DDwrap").removeClass("brBotN"),!a.chkBox)if(a.curActElm?a.curActElm.removeClass("active"):"",a.selectOnBlur){var c,d=a.inpHid,e=a.inpElm;rr=a.uEscp(d.attr("opt")),dataAry=a.Ary.A,retObj=a.getKeyFromVal(a.Ary.A,e.val()),keySel=retObj.retKey,c=retObj.parentKey?rr?dataAry[rr][d.val()]:dataAry&&dataAry[retObj.parentKey][keySel]?dataAry[retObj.parentKey][keySel]:"":rr?dataAry[rr][d.val()]:dataAry&&dataAry[keySel]?dataAry[keySel]:"",a.inpHid.val()||a.preserveText||c||a.inpElm.val("")}else a.inpHid.val()||a.preserveText||a.inpElm.val("");a.setInputText()}a.srchBx!==!1&&a.setLi(b),window.isFocus=0,window.intervalX=0},droope.Ary={},droope.lastRef={},$.fn.tooltip=function(a){function b(b,c){a(".tooltipContainer").css({left:b,top:c})}function c(c){a(".tooltipContainer").find("em").removeClass().addClass("arrow-leftC"),b.call(this,c.rigthDir_LeftPos,c.nodeTop-c.tooltipHt/2),a(".tooltipContainer").removeClass(c.animatnGrp[0],c.animatnGrp[2],c.animatnGrp[3]).addClass(c.animatnGrp[1])}function d(c){a(".tooltipContainer").find("em").removeClass().addClass("arrow-upC"),b.call(this,c.nodeLeft-c.tooltipWdth/2+c.nodeWidth/2,c.bottomDir_topPos+c.ttTipHeight),a(".tooltipContainer").removeClass(c.animatnGrp[0],c.animatnGrp[1],c.animatnGrp[3]).addClass(c.animatnGrp[2])}function e(c){a(".tooltipContainer").find("em").removeClass().addClass("arrow-rightC"),b.call(this,c.leftDir_leftPos,c.nodeTop-c.tooltipHt/2),a(".tooltipContainer").removeClass(c.animatnGrp[0],c.animatnGrp[2],c.animatnGrp[1]).addClass(c.animatnGrp[3])}function f(c){a(".tooltipContainer").find("em").removeClass().addClass("arrow-downC"),b.call(this,c.nodeLeft-c.tooltipWdth/2+c.nodeWidth/2,c.topDir_topPos-c.ttTipHeight),a(".tooltipContainer").removeClass(c.animatnGrp[1],c.animatnGrp[2],c.animatnGrp[3]).addClass(c.animatnGrp[0])}function g(b){return b.counter<=l.length?b.wrapperWd-(b.nodeLeft-b.wrapperLeft-b.nodeWidth)>=b.tooltipWdth&&b.horizontal_distance>=b.tooltipWdth&&b.nodeTop-(a(window).scrollTop()+b.wrapperTop)>b.tooltipHt&&b.vertical_distance>=b.tooltipHt?(c.call(this,b),!0):(b.counter++,!1):(c.call(this,b),!0)}function h(a){return a.counter<=l.length?a.wrapperHt-(a.nodeTop+a.nodeHeight)>=a.tooltipHt&&a.vertical_distance>=a.tooltipHt&&a.viewportLeft+a.nodeCentre>=a.tooltipCentre&&a.horizontal_distance>=a.nodeCentre?(d.call(this,a),!0):(a.counter++,!1):(d.call(this,a),!0)}function j(b){return b.counter<=l.length?b.nodeLeft-b.wrapperLeft>b.tooltipWdth&&b.viewportLeft>=b.tooltipWdth&&b.nodeTop-(a(window).scrollTop()+b.wrapperTop)>b.tooltipHt&&b.vertical_distance>=b.tooltipHt?(e.call(this,b),!0):(b.counter++,!1):(e.call(this,b),!0)}function k(b){return b.counter<=l.length?b.nodeTop-b.wrapperTop>b.tooltipHt&&b.nodeTop-(a(window).scrollTop()+b.wrapperTop)>b.tooltipHt&&b.viewportLeft+b.nodeCentre>=b.tooltipCentre&&b.horizontal_distance>=b.nodeCentre?(f.call(this,b),!0):(b.counter++,!1):(f.call(this,b),!0)}var l=["top","right","bottom","left"],m=null,n={list:{},"class":"tooltipDflt",dir:"right",tipWidth:20,tipHeight:20,wrapper:"body",open:{success:function(){},event:"mouseover",anim:""},close:{event:"mouseleave",node:"",anim:""}},o=function(b){this.options=a.extend(!0,{},n,b),0!=b.order.length&&(l=b.order)},p=function(a,b){return"top"==a?k.call(this,b):"right"==a?g.call(this,b):"bottom"==a?h.call(this,b):"left"==a?j.call(this,b):void 0},q=function(b,c){var d=p.call(this,b,c);if(d)return d;var e=a.inArray(b,l),f=(e+1)%l.length;a.inArray(this.options.dir,l);q.call(this,l[f],c)},r=function(){var b=this.options.open.event,c=this.options.close.event,d=this.options.close.node,e=this;this.node.on(b,function(){e.open()}),this.node.on(c,function(){var b=0;a(".tooltipContainer").on("mouseenter",function(){b=1}),setTimeout(function(){b?a(".tooltipContainer").on("mouseleave",function(){e.close()}):e.close()},100)}),d&&this.node.on("click",d,function(){e.close()})},s={open:function(){var b={};if(0==a(".tooltipContainer").length){var c=a('<div class="tooltipContainer">');c.appendTo("body")}var c=a(".tooltipContainer"),d=this.options["class"],e=d.replace(/\,/g," ");c.addClass(e);a(".tooltipContainer");b.counter=1,b.ttDirection=this.options.dir;var f=this.options.open.anim,g=b.animatnGrp=f.split(",");if(1==g.length)for(i=0;i<3;i++)g.push(f);b.wrapElem=a(this.options.wrapper);var h=b.wrapElem.offset();b.wrapperLeft=h.left,b.wrapperTop=h.top,b.wrapperHt=b.wrapElem.height(),b.wrapperWd=b.wrapElem.width(),b.ttTipWidth=this.options.tipWidth,b.ttTipHeight=this.options.tipHeight;var j=this.node.attr("tooltip"),k=this.options.list[j];a(".tooltipContainer").css("max-width",a(window).width()/2);var c=a(".tooltipContainer");b.nodeHeight=this.node.outerHeight(),b.nodeWidth=this.node.outerWidth(),b.nodeCentre=this.node.outerWidth()/2;var l=this.node.offset();b.nodeLeft=l.left,b.nodeTop=l.top;var c=a(".tooltipContainer");if(void 0!=j){a(".tooltipContainer").attr("tooltip")!=j?a(".tooltipContainer").html(k):a(".tooltipContainer").attr("tooltip",j),a(".tooltipContainer").show(),b.tooltipHt=c.height(),b.tooltipOuterHt=c.outerHeight(),b.tooltipWdth=c.outerWidth(),b.tooltipCentre=c.outerWidth()/2,b.rigthDir_LeftPos=b.nodeLeft+b.nodeWidth+b.ttTipWidth,b.topDir_topPos=b.nodeTop-b.tooltipOuterHt,b.leftDir_leftPos=b.nodeLeft-b.tooltipWdth-b.ttTipWidth,b.bottomDir_topPos=b.nodeTop+b.nodeHeight;var n=this.node.offset().left,o=this.node.offset().top,p=n+this.node.outerWidth(),r=o+this.node.outerHeight(),s=a(window).width()+a(window).scrollLeft(),t=a(window).height()+a(window).scrollTop();b.viewportLeft=n-a(window).scrollLeft(),b.horizontal_distance=s-p,b.vertical_distance=t-r,q.call(this,b.ttDirection,b),m?m.close():"",c.fadeIn(),m=this,this.options.open.success(this.node,c)}},close:function(){a(".tooltipContainer").hide()}},t=function(a,b){o.call(this,a),this.node=b,r.call(this)};return t.prototype=s,function(b){return a.each(this,function(c,d){if(!a(d).data("tooltip")){var e=new t(b,a(d));a(d).data("tooltip",e)}}),this.data("tooltip")}}(jQuery);